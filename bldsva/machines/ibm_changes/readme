#Mauro Sulis
#Specific Changes to be made for XLF compiler in JUQUEEN:#

#Use the configure_machine script to apply them all.  #FGa
#edit the SVAROOT env in configure_machine if "$HOME/coup_oas" is not intended as sva-directory #FGa
#don't forget to change notification-email in "build_oas3" #FGa

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
OASIS3
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Change the include file "$HOME/coup_oas/oasis3/util/make_dir/make.inc"
USE "make.xlf_juqueen_oa3" for XLF compiler
Override "make.xlf_juqueen_oa3" in "$HOME/coup_oas/oasis3/util/make_dir/"  #FGa
->This is not crucial but enables JUQUEEN optimizations and profiling      #FGa

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
COSMO
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
In "$HOME/coup_oas/cosmo/Makefile"
Set MACHINE_CFG = blgq
Override lmrun_uc to disable time-measurement and match juqueen-path-structure to the testcases  #FGa

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
CLM3.5
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Copy the file configure from ./clm to /coup_oas/clm/bld
Override lnd.stdin to match juqueen-path-structure to the testcases  #FGa
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
ParFlow
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#1 Issue with JUQUEEN TCL libraries in different location:
In "/coup_oas/bldsva/build_oas3" define:
setenv TCL_DIR  /homea/slts/sltsP3cp/local_juqueen_fn/tcl_test
#
On line 385 in "/coup_oas/bldsva/build_oas3" use the following options to configure pftools:
./configure CC='gcc' F77='gfortran' FC='gfortran' --prefix=$PARFLOW_DIR --with-silo=$SILO_DIR --with-tcl=$TCL_DIR --with-amps=oas3 --with-oas3 --with-amps-sequential-io
#
On line 388 in "/coup_oas/bldsva/build_oas3" use the following options to configure pftools:
./configure CC='gcc' F77='gfortran' FC='gfortran' --prefix=$PARFLOW_DIR --with-silo=$SILO_DIR --with-tcl=$TCL_DIR --with-amps=mpi1 --with-amps-sequential-io

#2 Issue with JUQUENN XLF Compilter FORTRAN underscore
Execute the attached script from $HOME/coup_oas/bldsva/ibm_changes 
#
cp ./parflow/amps_init.c         $HOME/coup_oas/parflow/pfsimulator/amps/oas3/
cp ./parflow/amps_init.c         $HOME/coup_oas/parflow/pfsimulator/amps/oas3/  
cp ./parflow/oas3_coupler.h      $HOME/coup_oas/parflow/pfsimulator/amps/oas3/ 
cp ./parflow/oas3_external.h     $HOME/coup_oas/parflow/pfsimulator/amps/oas3/
cp ./parflow/oas_pfl_vardef.F90  $HOME/coup_oas/parflow/pfsimulator/amps/oas3/
cp ./parflow/parflow_proto_f90.h $HOME/coup_oas/parflow/pfsimulator/parflow_lib/
cp ./parflow/parflow_proto_f.h   $HOME/coup_oas/parflow/pfsimulator/parflow_lib/

#3 Issue with JUQUEEN LITTLE ENDIAN
Execute the attached script from $HOME/coup_oas/bldsva/ibm_changes
#
cp ./parflow/amps_proto.h        $HOME/coup_oas/parflow/pfsimulator/amps/oas3/
cp ./parflow/amps_proto.h        $HOME/coup_oas/parflow/pfsimulator/amps/mpi1/
cp ./parflow/amps_io.c           $HOME/coup_oas/parflow/pfsimulator/amps/common/
cp ./parflow/parflow_config.h.in $HOME/coup_oas/parflow/pfsimulator/config/
cp ./parflow/tools_io.h          $HOME/coup_oas/parflow/pftools/
#

#4 Override coup_oas.tcl to match juqueen-path-structure to the testcases  #FGa

-----have fun------
