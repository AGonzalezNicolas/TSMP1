#MACHINE for JURECA
#source $HOME/DART/lanai/mkmf/loadenvs
# Desription
# -----------
# DART source codes sits separate to TerrSysMP source codes
# Only interface codes for component model resides in both directories
# Use of git_to_dart syncs these interface codes in TerrSysMP folder to DART folder
# The current setup assumes that DART and TerrSySMP folder both sits in the $HOME directory
# 
#----------------------------------------------------------------------------------------------------
#!< AGU 2016 How to set up a synthetic test case using TerrSysMP-DART interface?
#----------------------------------------------------------------------------------------------------
# DART source codes sits separate to TerrSysMP source codes
#
# Use the runmanager to submit a sequential job to generate the model trajectory
# assuiming a perfect model
# It uses "perfect_tsmp_setup.csh" to setup the model runs
sbatch jobchain_perfect.ksh 1 run
#
# Use the DART perfect model to harvest synthetic observations:
# This will exctrat the observations in DART format for the specified regions in column_mod.f90
./assim.csh 0/1 clm/cosmo/parflow
#
# Use the runmnanger to submit a sequential job for ensemble run with DA
# For open loop run, set NRST = 0
# It uses "tsmp_slm_run.bsh" to setup the model runs
# And it also uses "dart_XXX" for DA with DART
sbatch terrsysmp-dart_jobchain.ksh 1 run
#
# Archiving ensemble runs
archive_hist.csh
Usage: ./archive_hist.csh rundir ensemble_size
#
# Archiving single runs
copy.csh
Usage: ./copy.csh rundir
#----------------------------------------------------------------------------------------------------
# Utility
#----------------------------------------------------------------------------------------------------
# Update DART source code from the TerrSysMP folder
git_to_dart_XXXX.csh
Usage: ./git_to_dart_XXXX.csh
#
# Strip filenames
filestrip.csh
Usage: ./filestrip.csh
#
# Perturb model parameter
perturb_model_param.csh
Usage:./perturb_model_param.csh rundir ensemble_size
#
# Perturb model state
perturb_model_state.csh
Usage: ./perturb_model_state.csh rundir ensemble_size
#
# Extract time stamp
timeFile.ksh
Usage: ./timeFile.ksh rundir
#
